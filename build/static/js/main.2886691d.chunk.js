(this.webpackJsonpwatson_tts=this.webpackJsonpwatson_tts||[]).push([[0],{106:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(10),r=n.n(i),o=n(40),s=n(108),l=n(146),d=n(147),m=n(148),u=n(46),j=n(144),h=n(145),b=n(137),O=n(141),f=n(59),x=n.n(f),p=n(142),v=n(143),g=n(6);function y(e){var t=e.text,n=e.playComment,a=e.isLoading,c=e.id;return Object(g.jsx)("div",{children:Object(g.jsxs)(b.a,{style:{minHeight:"64px"},children:[Object(g.jsx)(O.a,{style:{width:"80%"},children:t}),Object(g.jsx)("div",{style:{display:"inline-block"},children:a===c?Object(g.jsx)(p.a,{style:{marginLeft:"1rem"},variant:"contained",color:"default",size:"small",endIcon:Object(g.jsx)(v.a,{size:18,"aria-label":"carregando"}),children:"Ouvir"}):Object(g.jsx)(p.a,{onClick:function(){return n(t,c)},style:{marginLeft:"1rem"},variant:"contained",color:"default",size:"small",endIcon:Object(g.jsx)(x.a,{"aria-label":"ouvir"}),children:"Ouvir"})})]})})}function w(e){var t=e.comments,n=e.fetchComments,c=e.playComment,i=e.isLoading;return t.length||n(),Object(g.jsx)(s.a,{children:Object(g.jsx)(j.a,{children:t.length<=0?Object(g.jsx)(b.a,{children:Object(g.jsx)(O.a,{children:"Nenhum coment\xe1rio a ser exibido."})}):"all"===i?Object(g.jsx)(v.a,{}):t.map((function(e,n){return Object(g.jsxs)("div",{children:[Object(a.createElement)(y,Object(u.a)(Object(u.a)({},e),{},{key:e.id,playComment:c,isLoading:i,id:e.id})),n<t.length-1&&Object(g.jsx)(h.a,{},"".concat(e.id,"-divider"))]},"".concat(e.id,"-container"))}))})})}var C=n(23),k=n(149);function L(e){var t=e.addComment,n=function(e){var t=Object(a.useState)(e),n=Object(C.a)(t,2),c=n[0],i=n[1];return[c,function(e){i(e.target.value)},function(){i("")}]}(""),c=Object(C.a)(n,3),i=c[0],r=c[1],o=c[2];return Object(g.jsx)(s.a,{style:{margin:"0",padding:"0 1rem 0 1rem"},children:Object(g.jsxs)("form",{children:[Object(g.jsx)(k.a,{id:"outlined-multiline-static",multiline:!0,rows:6,variant:"outlined",value:i,onChange:r,margin:"normal",label:"Escreva seu coment\xe1rio",fullWidth:!0,require:!0}),Object(g.jsx)(p.a,{variant:"contained",color:"primary",style:{marginBottom:"1rem"},onClick:function(e){t(i),o()},fullWidth:!0,children:"Adicionar Coment\xe1rio"})]})})}var B=n(32),S=n.n(B),W=n(44),z=n(45),I=n.n(z);var A=function(){var e=function(){var e=Object(a.useState)([]),t=Object(C.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),r=Object(C.a)(i,2),o=r[0],s=r[1],l=I.a.create({baseURL:"http://localhost:4000/"});return{comments:n,fetchComments:function(){var e=Object(W.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.get("comments").then((function(e){return c(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),addComment:function(e){l.post("comments/add?text=".concat(e)).then((function(e){c(e.data)}))},playComment:function(){var e=Object(W.a)(S.a.mark((function e(t,n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(n),e.next=3,I()({method:"get",url:"http://localhost:4000/synthesize?text=".concat(t),responseType:"blob"}).then((function(e){var t=new Blob([e.data],{type:"audio/webm"}),n=window.URL.createObjectURL(t);window.audio=new Audio,window.audio.src=n,window.audio.play()})).catch((function(e){console.log(e)}));case 3:s(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),isLoading:o}}(),t=e.comments,n=e.fetchComments,c=e.addComment,i=e.playComment,r=e.isLoading;return Object(g.jsxs)(s.a,{style:{padding:0,margin:0,height:"100vh",backgroundColor:"#fafafa"},elevation:0,children:[Object(g.jsx)(l.a,{color:"primary",position:"static",style:{height:"64px"},children:Object(g.jsx)(d.a,{children:Object(g.jsx)(o.a,{color:"inherit",children:"Coment\xe1rios com IBM Watson Service"})})}),Object(g.jsxs)(m.a,{container:!0,justify:"center",style:{marginTop:"1rem"},spacing:2,children:[Object(g.jsx)(m.a,{item:!0,xs:11,sm:10,md:5,lg:4,children:Object(g.jsx)(L,{addComment:c})}),Object(g.jsx)(m.a,{item:!0,xs:11,sm:10,md:5,lg:4,children:Object(g.jsx)(w,{comments:t,fetchComments:n,playComment:i,isLoading:r})})]})]})};var E=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(A,{})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(E,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[106,1,2]]]);
